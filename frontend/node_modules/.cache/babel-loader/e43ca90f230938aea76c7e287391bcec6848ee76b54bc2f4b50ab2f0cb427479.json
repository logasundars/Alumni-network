{"ast":null,"code":"var _jsxFileName = \"E:\\\\Alumini- network\\\\frontend\\\\src\\\\components\\\\CommentList.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Box, Typography, Avatar, TextField, Button, CircularProgress, List, ListItem, ListItemAvatar, ListItemText } from '@mui/material';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CommentList = ({\n  postId,\n  comments\n}) => {\n  _s();\n  const [comment, setComment] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [localComments, setLocalComments] = useState(comments || []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      const res = await axios.post(`/api/news/${postId}/comment`, {\n        content: comment\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setLocalComments([...localComments, res.data]);\n      setComment('');\n    } catch {}\n    setSubmitting(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Add a comment\",\n        value: comment,\n        onChange: e => setComment(e.target.value),\n        fullWidth: true,\n        required: true,\n        sx: {\n          mb: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        disabled: submitting || !comment,\n        children: submitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this) : 'Comment'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      children: localComments.map(c => /*#__PURE__*/_jsxDEV(ListItem, {\n        alignItems: \"flex-start\",\n        children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n          children: /*#__PURE__*/_jsxDEV(Avatar, {\n            children: c.authorName[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n          primary: /*#__PURE__*/_jsxDEV(Typography, {\n            fontWeight: 600,\n            children: c.authorName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 24\n          }, this),\n          secondary: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              color: \"text.secondary\",\n              children: new Date(c.createdAt).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: c.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)]\n      }, c.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s(CommentList, \"I2GegUgB9eHo0SRBakiYLE5yTBA=\");\n_c = CommentList;\nexport default CommentList;\nvar _c;\n$RefreshReg$(_c, \"CommentList\");","map":{"version":3,"names":["React","useState","axios","Box","Typography","Avatar","TextField","Button","CircularProgress","List","ListItem","ListItemAvatar","ListItemText","jsxDEV","_jsxDEV","Fragment","_Fragment","CommentList","postId","comments","_s","comment","setComment","submitting","setSubmitting","localComments","setLocalComments","handleSubmit","e","preventDefault","res","post","content","headers","Authorization","localStorage","getItem","data","children","onSubmit","style","marginBottom","label","value","onChange","target","fullWidth","required","sx","mb","fileName","_jsxFileName","lineNumber","columnNumber","type","variant","disabled","size","map","c","alignItems","authorName","primary","fontWeight","secondary","color","Date","createdAt","toLocaleString","id","_c","$RefreshReg$"],"sources":["E:/Alumini- network/frontend/src/components/CommentList.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Box, Typography, Avatar, TextField, Button, CircularProgress, List, ListItem, ListItemAvatar, ListItemText } from '@mui/material';\r\n\r\ninterface Comment {\r\n  id: number;\r\n  content: string;\r\n  authorName: string;\r\n  createdAt: string;\r\n}\r\n\r\ninterface CommentListProps {\r\n  postId: number;\r\n  comments: Comment[];\r\n}\r\n\r\nconst CommentList: React.FC<CommentListProps> = ({ postId, comments }) => {\r\n  const [comment, setComment] = useState('');\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const [localComments, setLocalComments] = useState<Comment[]>(comments || []);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setSubmitting(true);\r\n    try {\r\n      const res = await axios.post(`/api/news/${postId}/comment`, { content: comment }, { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } });\r\n      setLocalComments([...localComments, res.data]);\r\n      setComment('');\r\n    } catch {}\r\n    setSubmitting(false);\r\n  };\r\n\r\n  return (\r\n    <Box>\r\n      <form onSubmit={handleSubmit} style={{ marginBottom: 16 }}>\r\n        <TextField\r\n          label=\"Add a comment\"\r\n          value={comment}\r\n          onChange={e => setComment(e.target.value)}\r\n          fullWidth\r\n          required\r\n          sx={{ mb: 1 }}\r\n        />\r\n        <Button type=\"submit\" variant=\"contained\" disabled={submitting || !comment}>\r\n          {submitting ? <CircularProgress size={20} /> : 'Comment'}\r\n        </Button>\r\n      </form>\r\n      <List>\r\n        {localComments.map(c => (\r\n          <ListItem alignItems=\"flex-start\" key={c.id}>\r\n            <ListItemAvatar>\r\n              <Avatar>{c.authorName[0]}</Avatar>\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n              primary={<Typography fontWeight={600}>{c.authorName}</Typography>}\r\n              secondary={<>\r\n                <Typography variant=\"body2\" color=\"text.secondary\">{new Date(c.createdAt).toLocaleString()}</Typography>\r\n                <Typography variant=\"body1\">{c.content}</Typography>\r\n              </>}\r\n            />\r\n          </ListItem>\r\n        ))}\r\n      </List>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default CommentList; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}