{"ast":null,"code":"var _jsxFileName = \"E:\\\\Alumini- network\\\\frontend\\\\src\\\\components\\\\NewsPostCard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Card, CardContent, Typography, Box, IconButton, Avatar, Collapse, CircularProgress } from '@mui/material';\nimport FavoriteIcon from '@mui/icons-material/Favorite';\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\nimport ChatBubbleOutlineIcon from '@mui/icons-material/ChatBubbleOutline';\nimport { motion } from 'framer-motion';\nimport CommentList from './CommentList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewsPostCard = ({\n  post,\n  onLike\n}) => {\n  _s();\n  const [expanded, setExpanded] = useState(false);\n  const [liking, setLiking] = useState(false);\n  const [liked, setLiked] = useState(false); // For demo, ideally get from backend\n\n  const handleLike = async () => {\n    setLiking(true);\n    try {\n      await axios.post(`/api/news/${post.id}/like`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setLiked(true);\n      onLike();\n    } catch {}\n    setLiking(false);\n  };\n  const handleUnlike = async () => {\n    setLiking(true);\n    try {\n      await axios.post(`/api/news/${post.id}/unlike`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      setLiked(false);\n      onLike();\n    } catch {}\n    setLiking(false);\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    whileHover: {\n      scale: 1.01\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          mb: 1,\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              mr: 2\n            },\n            children: post.authorName[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              fontWeight: 600,\n              children: post.authorName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"caption\",\n              color: \"text.secondary\",\n              children: new Date(post.createdAt).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          mb: 1,\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          mb: 2,\n          children: post.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          alignItems: \"center\",\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            color: liked ? 'error' : 'default',\n            onClick: liked ? handleUnlike : handleLike,\n            disabled: liking,\n            children: liking ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 25\n            }, this) : liked ? /*#__PURE__*/_jsxDEV(FavoriteIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 66\n            }, this) : /*#__PURE__*/_jsxDEV(FavoriteBorderIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 85\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            mr: 2,\n            children: [post.likeCount, \" Likes\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => setExpanded(e => !e),\n            children: /*#__PURE__*/_jsxDEV(ChatBubbleOutlineIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: [post.commentCount, \" Comments\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n          in: expanded,\n          timeout: \"auto\",\n          unmountOnExit: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            mt: 2,\n            children: /*#__PURE__*/_jsxDEV(CommentList, {\n              postId: post.id,\n              comments: post.comments\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(NewsPostCard, \"2DqdhfYYmlakHz7iytY/wXGAeP4=\");\n_c = NewsPostCard;\nexport default NewsPostCard;\nvar _c;\n$RefreshReg$(_c, \"NewsPostCard\");","map":{"version":3,"names":["React","useState","axios","Card","CardContent","Typography","Box","IconButton","Avatar","Collapse","CircularProgress","FavoriteIcon","FavoriteBorderIcon","ChatBubbleOutlineIcon","motion","CommentList","jsxDEV","_jsxDEV","NewsPostCard","post","onLike","_s","expanded","setExpanded","liking","setLiking","liked","setLiked","handleLike","id","headers","Authorization","localStorage","getItem","handleUnlike","div","whileHover","scale","children","sx","mb","display","alignItems","mr","authorName","fileName","_jsxFileName","lineNumber","columnNumber","fontWeight","variant","color","Date","createdAt","toLocaleString","title","content","onClick","disabled","size","likeCount","e","commentCount","in","timeout","unmountOnExit","mt","postId","comments","_c","$RefreshReg$"],"sources":["E:/Alumini- network/frontend/src/components/NewsPostCard.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Card, CardContent, Typography, Box, IconButton, Avatar, Collapse, CircularProgress } from '@mui/material';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport ChatBubbleOutlineIcon from '@mui/icons-material/ChatBubbleOutline';\r\nimport { motion } from 'framer-motion';\r\nimport CommentList from './CommentList';\r\n\r\ninterface NewsPost {\r\n  id: number;\r\n  title: string;\r\n  content: string;\r\n  summary: string;\r\n  imageUrl: string;\r\n  authorName: string;\r\n  createdAt: string;\r\n  likeCount: number;\r\n  commentCount: number;\r\n  comments: any[];\r\n}\r\n\r\ninterface NewsPostCardProps {\r\n  post: NewsPost;\r\n  onLike: () => void;\r\n}\r\n\r\nconst NewsPostCard: React.FC<NewsPostCardProps> = ({ post, onLike }) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [liking, setLiking] = useState(false);\r\n  const [liked, setLiked] = useState(false); // For demo, ideally get from backend\r\n\r\n  const handleLike = async () => {\r\n    setLiking(true);\r\n    try {\r\n      await axios.post(`/api/news/${post.id}/like`, {}, { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } });\r\n      setLiked(true);\r\n      onLike();\r\n    } catch {}\r\n    setLiking(false);\r\n  };\r\n\r\n  const handleUnlike = async () => {\r\n    setLiking(true);\r\n    try {\r\n      await axios.post(`/api/news/${post.id}/unlike`, {}, { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } });\r\n      setLiked(false);\r\n      onLike();\r\n    } catch {}\r\n    setLiking(false);\r\n  };\r\n\r\n  return (\r\n    <motion.div whileHover={{ scale: 1.01 }}>\r\n      <Card sx={{ mb: 3 }}>\r\n        <CardContent>\r\n          <Box display=\"flex\" alignItems=\"center\" mb={1}>\r\n            <Avatar sx={{ mr: 2 }}>{post.authorName[0]}</Avatar>\r\n            <Box>\r\n              <Typography fontWeight={600}>{post.authorName}</Typography>\r\n              <Typography variant=\"caption\" color=\"text.secondary\">{new Date(post.createdAt).toLocaleString()}</Typography>\r\n            </Box>\r\n          </Box>\r\n          <Typography variant=\"h6\" mb={1}>{post.title}</Typography>\r\n          <Typography mb={2}>{post.content}</Typography>\r\n          <Box display=\"flex\" alignItems=\"center\">\r\n            <IconButton color={liked ? 'error' : 'default'} onClick={liked ? handleUnlike : handleLike} disabled={liking}>\r\n              {liking ? <CircularProgress size={20} /> : liked ? <FavoriteIcon /> : <FavoriteBorderIcon />}\r\n            </IconButton>\r\n            <Typography variant=\"body2\" mr={2}>{post.likeCount} Likes</Typography>\r\n            <IconButton onClick={() => setExpanded(e => !e)}>\r\n              <ChatBubbleOutlineIcon />\r\n            </IconButton>\r\n            <Typography variant=\"body2\">{post.commentCount} Comments</Typography>\r\n          </Box>\r\n          <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n            <Box mt={2}>\r\n              <CommentList postId={post.id} comments={post.comments} />\r\n            </Box>\r\n          </Collapse>\r\n        </CardContent>\r\n      </Card>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default NewsPostCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}